<div class="container ">
<h1>配送先登録/一覧</h1>

<%= form_with model: @address, url: public_addresses_path, method: :post, local: true do |f| %>
  <label>郵便番号（ハイフンなし）</label>
  <div>
    <%= f.text_field :post_number, autofocus: true %>
  </div>
  
  <label>住所</label>
  <div>
    <%= f.text_field :address %>
  </div>
  
  <label>宛名</label>
  <div>
    <%= f.text_field :name %>
  </div>
  
  <%= f.submit "新規登録", class: "btn btn-success" %>
<% end %>

<table>
  <tr>
    <th>郵便番号</th>
    <th>住所</th>
    <th>宛名</th>
    <th></th>
  </tr>

  <% @addresses.each do |address| %>
    <tr>
      <td><%= address.post_number %></td>
      <td><%= address.address %></td>
      <td><%= address.name %></td>
      <td>
        <%= link_to "編集する", edit_public_address_path(address.id), class: "btn btn-success" %>
        <%= link_to "削除する", public_address_path(address.id), method: :delete, class: "btn btn-danger" %>
      </td>
    </tr>
  <% end %>
</table>
</div>